# 📝 개인 공부

### 동시성 문제

여러 스레드가 동시에 공유자원에 접근할 때 발생하는 문제입니다. 여러 스레드가 동시에 데이터를 읽고 쓰는 과정에서 충돌이 발생할 수 있기 때문에, 데이터의 일관성을 해칠 수 있습니다. 

### 트랜젝션 ACID

- 원자성 : 작업이 성공적으로 완료되거나 전혀 수행되지 않아야 한다
- 일관성 : 트랜잭션이 수행된 후에, 데이터베이스는 미리 정의된 규칙에 따라 일관된 상태여야 한다
- 고립성 : 각 트랜잭션은 다른 트랜잭션에 영향을 받지 않아야 한다
- 지속성 : 데이터베이스가 손실되더라도 트랜잭션의 결과는 보존되어야 한다

### 경합조건

두 개 이상의 명령어가 동시에 같은 기억 장소로 액세스할 때 그들 사이의 경쟁에 의해 수행 결과를 예측할 수 없는 것.

→ 두 가지 이상의 명령어가 실행되는 순서를 명확하게 정해주지 않아, 어떤 명령어가 먼저 실행될 지 몰라 결과를 알 수 없는 것

### 데이터 무결성

데이터가 손상되지 않고, 정확하게 유지되는 상태

- 구조적 무결성 : 데이터의 구조가 올바르게 유지되는 것 → 테이블 간 관게, 데이터 형식, 제약 조건이 일관성으로 유지
- 내용적 무결성 : 데이터의 내용 자체가 올바르게 유지되는 것 → 데이터가 원래의 의미와 일치하고, 변조, 손실 없이 유지되는 것

### 데드락

둘 이상의 프로세스가 다른 프로세스가 점유하고 있는 자원을 서로 기다릴 때 무한 대기에 빠지는 상황

### 뮤텍스 대기 큐와 조건변수 대기큐의 차이

뮤택스 대기큐는 임계 영역 진입을 위한 대기하며, 뮤텍스가 잠겨있는 경우 Lock이 되고, 뮤텍스가 풀릴 때 unlock 됩니다.

조건변수 대기큐는 특정 조건이 만족될때까지 대기하며, 사용자가 정의한 조건이 거짓인 경우 lock이 되고, notify() / notifyAll() 호출 시 unlock 됩니다.

### 낙관적 락과 락프리 의 차이

**낙관적 락**

충돌이 적을 것이라고 가정하고, 락을 사용하지 않는다. 이때 충돌 시 롤백하고 재시도한다.

버전 관리를 통한 일관성을 보장하고, 데이터베이스 트랜잭션에서 주로 사용됩니다.

**락프리**

명시적인 락을 사용하지 않고, CAS연산을 사용합니다.

최소한 하나의 스레드는 진행 보장

### 뮤텍스와 세마포어의 차이점

1. 동기화 대상의 갯수

Mutex 는 동기화 대상이 오직 1개일 때 사용

Semaphore 는 동기화 대상이 1개 이상일 때 사용

1. 세마포어는 뮤텍스가 될 수 있지만, 뮤텍스는 세마포어가 될 수 없다
2. 뮤텍스는 자원 소유 가능 + 책임을 지는 반면, 세마포어는 자원 소유 불가
3. 세마포어는 시스템 범위에 걸쳐있고, 파일 시스템 상의 파일로 존재
    
    뮤텍스는 프로세스의 범위를 가지며, 프로세스 종료될 때 자동으로 클린업